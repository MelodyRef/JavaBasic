# 1.CopyOnWrite机制



CopyOnWrite：写入时复制思想，当多个调用者同时请求一个系统资源时，有一个调用者需要对当前数据进行修改时，系统会复制一个当前数据源的副本给调用者修改

CopyOnWrite容器即**写时复制的容器**，当往一个容器添加数据时，不直接往容器添加，而是将当前容器复制，向复制出来的新容器中添加元素，最后将原容器的引用指向新容器

好处在于可以在并发场景下对容器进行“读操作”而不需要加锁，从而达到读写分离的目的



# 2.CopyOnWriteArrayList

**优点**：多用于读多写少的并发场景，因为CopyOnWriteArrayList无需任何同步措施，大大增强了读的性能。(读写分离在不同的容器中，同时进行读和写时不会抛ConcurrentModificationException)

**缺点**：写操作需要对原容器拷贝，数据量大时内存压力大，可能会引起频繁的Full GC ;在写操作执行时，由于读写在不同的容器上，读操作不会被阻塞，但读取到的是老容器的数据





