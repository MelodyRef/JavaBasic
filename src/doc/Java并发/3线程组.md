# 3线程组

## 3.1线程组

java用ThreadGroup表示线程组，可以使用线程组对线程进行批量控制

每个线程一定属于一个线程组，如果创建线程时没有指定线程组，那么默认将父线程（当前执行new Thread的线程）的线程组设置为自己的线程组。

ThreadGroup是一个标准的向下引用的树状结构，可以防止上级线程被下级线程引用而无法有效被GC回收



### 3.2线程的优先级

Java线程的优先级可以指定，范围1~10，默认5，线程的优先级最终是多少还是取决于操作系统

高优先级的比低优先级的有更高的几率被执行

Java提供一个**线程调度器**来监视和控制处于**Runnable**状态的线程。线程的调度策略采用**抢占式**，优先级高比优先级低的线程会有更大的几率优先执行，优先级相同时采用先到先得的原则，每个Java都有一个默认的主线程，就是通过JVM启动的第一个main线程

还有一种线程被称为守护线程(Daemon)，守护线程默认优先级比较低

> 如果一个线程是守护线程，那么如果所有的非守护线程结束，这个守护线程也会自动结束
>
> 应用场景：当所有的非守护线程结束时，结束其余的子线程（守护线程）自动关闭，就免去了还要继续关闭子线程的麻烦
>
> 一个线程默认为非守护线程，可以通关Thread类的setDaemon(boolean on)设置

线程的优先级不会超过线程组的最大优先级，如果超过则设置失效，改用该线程组的最大优先级



### 3.3线程组

#### 3.3.1线程组的常用方法



